function inIframe(){try{return window.self!==window.top}catch(t){return!1}}function load_preview(){var t=document.createElement("script");t.type="text/javascript",t.src=trustpilot_widget_script_url,t.async=!0,document.head.appendChild(t),inIframe()&&window.addEventListener("message",function(t){var e=new URL(window.location).hostname,i=new URL(t.origin).hostname,r=-1===t.origin.indexOf(e),o=e!==i;if(r!==o&&console.log(`Origin missmatch: old condition result: ${r}, new condition result: ${o}`),t.data&&!o)if("undefined"!=typeof TrustpilotPreview)if("string"==typeof t.data&&"submit"===t.data)TrustpilotPreview.sendTrustboxes();else try{(n=JSON.parse(t.data)).trustbox?TrustpilotPreview.setSettings(n.trustbox):n.customised&&TrustpilotPreview.updateActive(n.customised)}catch(t){console.log(`Error while loading trustbox preview: ${t.message} with data ${t.data}`)}else try{var n=JSON.parse(t.data);if(n.trustboxes){var s=document.createElement("script");s.type="text/javascript",s.onload=function(){const e=t.source.parent.document.getElementById("configuration_iframe").contentWindow;TrustpilotPreview.init([trustpilot_preview_css_url],n,e,t.source)},s.src=trustpilot_preview_script_url,document.head.appendChild(s)}}catch(t){console.log(`TrustpilotPreview couldn't load due to an error: ${t.message} with data ${t.data}`)}})}"undefined"!=typeof trustpilot_widget_script_url?load_preview():window.addEventListener("DOMContentLoaded",load_preview);
//# sourceMappingURL=tp_preview.min.js.map
