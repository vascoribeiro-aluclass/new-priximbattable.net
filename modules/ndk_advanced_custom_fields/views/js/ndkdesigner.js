function metaleffect(e,t,a,i,r,o,n,d,s,l,c,u,p,g){if("function"==typeof metaleffect_Override)return metaleffect_Override(e,t,a,i,r,o,n,d,s,l,c,u,p,g);console.log(n);var h=[],m=((g=g||!1)?(h.effect="",h.fill=e+" ;stroke: "+a+"; stroke-width:0.8",h.fillShadow="",h.fillLight=""):(h.effect='<linearGradient class="svggradient" data-group-text="'+o+'"  id="metalEffect_'+o+'" x1="0%" y1="100%" y2="10%" x2="80%">',h.effect+='<stop stop-color="'+e+'" offset="0%"></stop>',h.effect+='<stop stop-color="'+t+'" offset="30%"></stop>',h.effect+='<stop stop-color="'+e+'" offset="70%"></stop>',h.effect+='<stop stop-color="'+t+'" offset="100%"></stop>',h.effect+="</linearGradient>",h.effect+='<filter class="svgfilter" data-group-text="'+o+'" id="shadow_'+o+'" height="140%" y="20%" width="140%" x="-30%"><feGaussianBlur result="shadow" stdDeviation="0 0"></feGaussianBlur><feGaussianBlur result="shadow" stdDeviation="1 0.5"></feGaussianBlur><feOffset dx="0" dy="2"></feOffset></filter>',h.effect+='<filter class="svgfilter" data-group-text="'+o+'"  id="shadow2_'+o+'" height="140%" y="20%" width="140%" x="-30%"><feGaussianBlur result="shadow" stdDeviation="0.2 0.2"></feGaussianBlur><feOffset dx="0" dy="-0.7"></feOffset></filter>',h.effect+='<filter class="svgfilter" data-group-text="'+o+'" id="light_'+o+'" height="140%" y="20%" width="140%" x="-30%"><feGaussianBlur result="shadow" stdDeviation="0 0"></feGaussianBlur><feGaussianBlur result="shadow" stdDeviation="0 0"></feGaussianBlur><feOffset dy="-1" dx="0"></feOffset></filter>',h.fill=(p?"url(#texture_"+o+")":"url(#metalEffect_"+o+")")+" ;stroke: "+a+"; stroke-width:0.8",h.fillShadow=i+"; filter: url(#shadow_"+o+")",h.fillLight=r+"; filter: url(#light_"+o+")"),textPathEffect="",svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" class="textareaSvg composition_element" viewBox="0 0 '+d+" "+(s+5)+'" preserveAspectRatio="xMidYMid meet" style="'+style+'" height="'+s+'" width="'+d+'">',svg+=h.effect,fontUrl=(fontUrl=(fontUrl=l.replace(/\s/g,"+")).replace(/\"/g,"")).replace(/\'/g,""),fullFontUrl="https://fonts.googleapis.com/css?family="+fontUrl,styleContent="@import url('"+fullFontUrl+"')",svg+='<defs><style type="text/css" >'+styleContent+"</style></defs>",textPathEffect+=h.effect,n.split("\n"));if(1<m.length){y=1;for(var f=0;f<m.length;f++)svglines+="<tspan "+txtanchord+' x="'+x+'" y="'+c*y+'">'+m[f].escape()+"</tspan>",y++}return 1!=u||g?p&&(svg=(svg+='<pattern id="texture_'+o+'" patternUnits="userSpaceOnUse" viewBox="0 0 '+d+" "+(s+5)+'" height="'+s+'" width="'+d+'">')+'<image xlink:href="'+p+'" height="'+s+'" width="'+d+'"/></pattern>'):(svg=(svg+='<text data-font-family="'+l+'" id="svgText_'+o+'-light" x="10" y="10" style="fill:'+h.fillLight+';"font-family:'+l+" ;>"+svglines+"</text>")+'<text data-font-family="'+l+'" id="svgText_'+o+'-shadow" x="10" y="10" style="fill:'+h.fillShadow+";font-family:"+l+' ;">'+n+"</text>",textPathEffect=(textPathEffect+='<text data-font-family="'+l+'" data-group-text="'+o+'" id="svgText_'+o+'-light" style="font-family:'+l+" ;font-size:"+ +c+"px; fill:"+h.fillLight+';">'+svglines+"</text>")+'<text data-font-family="'+l+'" data-group-text="'+o+'" id="svgText_'+o+'-shadow" style="font-family:'+l+" ;font-size:"+ +c+"px; fill:"+h.fillShadow+';">'+svglines+"</text>"),svg=(svg=(svg+='<text data-font-family="'+l+'" id="svgText_'+o+'"  x="10" y="10" style="fill:'+h.fill+";font-family:"+l+';">')+svglines)+"</text>"+"</svg>",h.textPathEffect=textPathEffect,h.svg=svg,h}$(document).on("click",".addText",function(e){e.preventDefault(),maxlenght=$(this).attr("data-max"),group=$(this).attr("data-group"),zindex=$(this).attr("data-zindex"),target=$(this).attr("data-id"),view=$(this).attr("data-view"),dragdrop=$(this).attr("data-dragdrop"),resizeable=$(this).attr("data-resizeable"),rotateable=$(this).attr("data-rotateable"),price=$(this).attr("data-price"),blend=$(this).attr("data-blend"),ppcprice=$(this).attr("data-ppcprice"),others=$(this).parent().find(".designer-item"),number=others.length+1,$(this).parent().find(".designer-item").slideUp(),textItem='<div class="designer-item-container"><h4 data-target="#item-'+group+"-"+parseInt(number)+'" id="toggler-'+group+"-"+parseInt(number)+'" class="itemToggler">'+designerTextText+"<span> "+parseInt(number)+'</span></h4><div id="item-'+group+"-"+parseInt(number)+'" class="designer-item clearfix clear" data-number="'+parseInt(number)+'"><textarea id="text-item-'+group+"-"+number+'" data-lines="1" data-max="'+maxlenght+'" data-group="'+group+'" data-number="'+number+'" data-zindex="'+zindex+'" data-id="'+target+'" data-view="'+view+'" data-dragdrop="'+dragdrop+'" data-resizeable="'+resizeable+'" data-rotateable="'+rotateable+'" data-price="'+price+'" data-blend="'+blend+'" data-ppcprice="'+ppcprice+'" data-pattern="" class="form-control textzone ndktextarea textItem"></textarea>',0<$(this).parent().find(".orientation_selection").length&&(orientable_block=$(this).parent().find(".orientation_selection").html(),textItem+='<div data-group-target="'+group+"-"+parseInt(number)+'" class="clear clearfix orientation_selection">'+orientable_block+"</div>"),textItem+='<a href="#" class="remove-item-block button btn pull-right btn-default button-small" data-group-target="'+group+"-"+parseInt(number)+'" data-group="'+group+'"><span>'+designerRemoveText+"</span></a></div></div>",textItem=$(this).parent().find(".itemsBlock").append(textItem),scrollToNdk(textItem,800),initText($("#text-item-"+group+"-"+number)),$("#ndkcsfield_"+group).val(designerValue).trigger("keyup"),makeSortable()}),$(document).on("click",".addTextArea",function(e){e.preventDefault(),maxlenght=$(this).attr("data-max"),group=$(this).attr("data-group"),zindex=$(this).attr("data-zindex"),target=$(this).attr("data-id"),view=$(this).attr("data-view"),dragdrop=$(this).attr("data-dragdrop"),resizeable=$(this).attr("data-resizeable"),rotateable=$(this).attr("data-rotateable"),price=$(this).attr("data-price"),ppcprice=$(this).attr("data-ppcprice"),blend=$(this).attr("data-blend"),others=$(this).parent().find(".designer-item"),number=others.length+1,$(this).parent().find(".designer-item").slideUp(),textItem='<div class="designer-item-container"><h4 data-target="#item-'+group+"-"+parseInt(number)+'" id="toggler-'+group+"-"+parseInt(number)+'" class="itemToggler">'+designerTextText+"<span> "+parseInt(number)+'</span></h4><div id="item-'+group+"-"+parseInt(number)+'" class="designer-item clearfix clear" data-number="'+parseInt(number)+'"><textarea id="text-item-'+group+"-"+number+'" data-lines="1" data-max="'+maxlenght+'" data-group="'+group+'" data-number="'+number+'" data-zindex="'+zindex+'" data-id="'+target+'" data-view="'+view+'" data-dragdrop="'+dragdrop+'" data-resizeable="'+resizeable+'" data-rotateable="'+rotateable+'" data-price="'+price+'" data-ppcprice="'+ppcprice+'" data-blend="'+blend+'" data-pattern="" class="form-control textzone ndktextarea type_textarea textItem"></textarea>',0<$(this).parent().find(".orientation_selection").length&&(orientable_block=$(this).parent().find(".orientation_selection").html(),textItem+='<div data-group-target="'+group+"-"+parseInt(number)+'" class="clear clearfix orientation_selection">'+orientable_block+"</div>"),textItem+='<a href="#" class="remove-item-block button btn pull-right btn-default button-small" data-group="'+group+'" data-group-target="'+group+"-"+parseInt(number)+'"><span>'+designerRemoveText+"</span></a></div></div>",textItem=$(this).parent().find(".itemsBlock").append(textItem),scrollToNdk(textItem,800),initText($("#text-item-"+group+"-"+number)),$("#ndkcsfield_"+group).val(designerValue).trigger("keyup"),makeSortable()}),$(document).on("click",".addImg",function(e){e.preventDefault(),group=$(this).attr("data-group"),zindex=$(this).attr("data-zindex"),target=$(this).attr("data-id"),view=$(this).attr("data-view"),dragdrop=$(this).attr("data-dragdrop"),resizeable=$(this).attr("data-resizeable"),rotateable=$(this).attr("data-rotateable"),price=$(this).attr("data-price"),blend=$(this).attr("data-blend"),others=$(this).parent().find(".designer-item"),number=others.length+1,(clonedUpload=$(this).parent().find(".ndkhiddenuploadfile").clone()).removeClass("ndkhiddenuploadfile").addClass("imgItem"),clonedUpload.find(".img-value").attr("data-group",group+"-"+number),(clonedLibrary=$(this).parent().find(".ndkhiddenimglibrary").clone()).removeClass("ndkhiddenimglibrary").addClass("imgItem").attr("id","main-"+group+"-"+number),clonedLibrary.find(".img-value").attr("data-group",group+"-"+number),$(this).parent().find(".designer-item").slideUp(),imgItem='<div class="designer-item-container"><h4 id="toggler-'+group+"-"+parseInt(number)+'"  data-target="#item-'+group+"-"+parseInt(number)+'" class="itemToggler">'+designerImgText+"<span> "+parseInt(number)+'</span></h4><div id="item-'+group+"-"+parseInt(number)+'" class="designer-item clearfix clear" data-number="'+parseInt(number)+'">'+clonedUpload.html()+clonedLibrary.html(),0<$(this).parent().find(".orientation_selection").length&&(orientable_block=$(this).parent().find(".orientation_selection").html(),imgItem+='<div data-group-target="'+group+"-"+parseInt(number)+'" class="clear clearfix orientation_selection">'+orientable_block+"</div>"),imgItem+='<a href="#" class="remove-item-block button btn pull-right btn-default button-small"  data-group="'+group+'" data-group-target="'+group+"-"+parseInt(number)+'"><span>'+designerRemoveText+"</span></a></div></div>",imgItem=$(this).parent().find(".itemsBlock").append(imgItem),scrollToNdk(imgItem,800),$("#ndkcsfield_"+group).val(designerValue).trigger("keyup"),$(".ndk_selector").each(function(){$(this).setNdkSelector()}),makeSortable()}),$(document).on("click",".itemToggler",function(){$($(this).attr("data-target")).slideToggle()}),String.prototype.escape=function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;"};return this.replace(/[&<>]/g,function(e){return t[e]||e})},$(document).on("click",".submitTextItem",function(){if(group=parseInt($(this).parent().parent().find(".ndktextarea:eq(0)").attr("data-group")),number=$(this).parent().parent().find(".ndktextarea").attr("data-number"),zindex=$(this).parent().parent().find(".textzone").attr("data-zindex"),price=$(this).parent().parent().find(".ndktextarea").attr("data-price"),ppcprice=$(this).parent().parent().find(".ndktextarea").attr("data-ppcprice"),blend=$(this).parent().parent().find(".ndktextarea").attr("data-blend"),view=$(this).parent().parent().find(".ndktextarea").attr("data-view"),dragdrop=$(this).parent().parent().find(".ndktextarea").attr("data-dragdrop"),resizeable=$(this).parent().parent().find(".ndktextarea").attr("data-resizeable"),rotateable=$(this).parent().parent().find(".ndktextarea").attr("data-rotateable"),(charsCount=0)<$(this).parent().find(".noborder").length?(texte="",$(this).parent().find(".noborder").each(function(){""!=$(this).val()&&(texte+=$(this).val()+" ",charsCount+=$(this).val().replace(/\ /g,"").length)})):texte=$(this).parent().find(".textarea").text(),""==texte||" "==texte?(price=0,texte=""):price=0<ppcprice?ppcprice*charsCount:$(this).parent().parent().find(".ndktextarea").attr("data-price"),$(this).parent().parent().find(".ndktextarea").val(texte).trigger("keyup"),$(this).parent().find(".textarea").css({width:"auto",height:"auto",display:"table"}),""!=texte&&" "!=texte||(price=0,texte=""),verticalPadding=10,horizontalPadding=0,$(this).parent().find(".status_counter").hide(),height=$(this).parent().find(".textarea").innerHeight()-parseFloat(verticalPadding),width=$(this).parent().find(".textarea").innerWidth()-parseFloat(horizontalPadding)-scrollbarWidth,$(".status_counter").hide(),0<$(".zone_limit[data-group='"+group+"']").length&&0<$(".view_tab[data-view='"+view+"']").length&&0<$(this).parent().find("textarea.noborder").length&&(container=".zone_limit[data-group='"+group+"']",zwidth=$(container).width(),zheight=$(container).height(),$(this).parent().find(".textarea").css({width:zwidth}),width=zwidth),svglines="",fontSize=parseFloat($(this).parent().css("font-size")),alignment=$(this).parent().find(".texteditor").css("text-align"),x=10,txtanchord='text-anchor="start"',"left"==alignment?(x=10,txtanchord='text-anchor="start"'):"center"==alignment?(x=width/2,txtanchord='text-anchor="middle"'):"right"==alignment&&(x=width,txtanchord='text-anchor="end"'),0<$(this).parent().find("textarea.noborder").length){var e=$(this).parent().find("textarea.noborder").val().split("\n");y=1;for(var t=0;t<e.length;t++)svglines+="<tspan "+txtanchord+' x="'+x+'" y="'+fontSize*y+'">'+e[t].escape()+"</tspan>",y++;textToWrite=$(this).parent().find("textarea.noborder").val()}else textToWrite="",y=1,$(this).parent().find(".noborder").each(function(){textToWrite+=$(this).val()+" \n ",y++});style=$(this).parent().attr("style").replace('"',"'").replace('"',"'");var a=!1,i=[];i.effect="",i.fill="",i.fillLight="",i.fillShadow="",fontFamily=(fontFamily=$(this).parent().find(".texteditor").css("font-family")).replace('"',"'").replace('"',"'"),i="rgb(255, 215, 0)"==$(this).parent().find(".texteditor").css("color")?(a=!0,metaleffect("#efd8a2","#a28156","#efd8a2","#2f1f05","#fff3c6",group+"-"+number,textToWrite,width,height,fontFamily,fontSize,a,!1)):"rgb(192, 192, 192)"==$(this).parent().find(".texteditor").css("color")?(a=!0,metaleffect("#888888","#dedede","#F5F5F5","#444444","#dedede",group+"-"+number,textToWrite,width,height,fontFamily,fontSize,a,!1)):"concavMe"==$(this).parent().find(".texteditor").attr("data-effect")?(color1=$(this).parent().find(".texteditor").css("color"),color2=darkerColor($(this).parent().find(".texteditor").css("color"),.2),shadowcolor=darkerColor($(this).parent().find(".texteditor").css("color"),.4),lightcolor=lighterColor($(this).parent().find(".texteditor").css("color"),.2),strokecolor=darkerColor($(this).parent().find(".texteditor").css("color"),.2),a=!0,metaleffect(color2,color1,strokecolor,lightcolor,shadowcolor,group+"-"+number,textToWrite,width,height,fontFamily,fontSize,a,!1)):"convexMe"==$(this).parent().find(".texteditor").attr("data-effect")?(color1=$(this).parent().find(".texteditor").css("color"),color2=lighterColor($(this).parent().find(".texteditor").css("color"),.2),shadowcolor=darkerColor($(this).parent().find(".texteditor").css("color"),.2),lightcolor=lighterColor($(this).parent().find(".texteditor").css("color"),.3),strokecolor=lighterColor($(this).parent().find(".texteditor").css("color"),.2),a=!0,metaleffect(color1,color2,strokecolor,shadowcolor,lightcolor,group+"-"+number,textToWrite,width,height,fontFamily,fontSize,a,!1)):(color1=$(this).parent().find(".texteditor").css("color"),strokecolor=$(this).parent().find(".texteditor").attr("stroke-color"),a=!1,metaleffect(color1,color1,strokecolor,"transparent","transparent",group+"-"+number,textToWrite,width,height,fontFamily,fontSize,a,!1,!0)),designCompo(i.svg,group+"-"+number,view,zindex,dragdrop,resizeable,rotateable,width,height,"svg",blend),0<$(this).parent().find("textarea.noborder").length&&(svg_textMultiline("svgText_"+group+"-"+number,textToWrite.replace(/\n/g," ± "),width,fontSize,txtanchord,x),svg_textMultiline("svgText_"+group+"-"+number+"-shadow",textToWrite.replace(/\n/g," ± "),width,fontSize,txtanchord,x),svg_textMultiline("svgText_"+group+"-"+number+"-light",textToWrite.replace(/\n/g," ± "),width,fontSize,txtanchord,x)),""!=textToWrite&&updatePriceNdk(price,parseInt(group))}),$(document).on("click",".remove-item-block",function(e){e.preventDefault(),group=$(this).attr("data-group-target"),others=$(this).parent().parent().find(".designer-item"),$("#visual_"+group).remove(),$("#item-"+group).remove(),$("#toggler-"+group).remove(),$("#layer-edit-"+group).remove(),idInput=group.split("-"),1<others.length?$("#ndkcsfield_"+idInput[0]).val(designerValue).trigger("keyup"):($("#ndkcsfield_"+idInput[0]).val("").trigger("keyup"),updatePriceNdk(0,$(this).attr("data-group"))),$(this).hide(),rootGroupBlock=$(".form-group[data-field='"+group+"']:not(.submitContainer)"),$("#ndkcsfield_"+idInput[0]).trigger("keyup"),checkLayerChanges(),makeSortable()}),$(document).on("click",".remove-img-item",function(e){e.preventDefault(),group=$(this).attr("data-group-target"),others=$(this).parent().parent().find(".designer-item"),$("#visual_"+group).remove(),$("#layer-edit-"+group).remove(),$(this).parent().find(".selected-value").removeClass("selected-value"),idInput=group,$("#ndkcsfield_"+idInput[0]).val("").trigger("keyup"),$(this).hide(),$(this).hasClass("removePrice")&&($("#ndkcsfield_"+group).val(""),updatePriceNdk(0,group)),checkLayerChanges(),makeSortable()});var pad=function(e,t){for(e+="";e.length<t;)e="0"+e;return e},changeColor=function(e,t,a){e=(e=e.replace(/^\s*|\s*$/,"")).replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var t=Math.round(256*t)*(a?-1:1),i=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),r=i&&null!=i[4]?i[4]:null,e=i?[i[1],i[2],i[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return i?"rgb"+(null!==r?"a":"")+"("+Math[a?"max":"min"](parseInt(e[0],10)+t,a?0:255)+", "+Math[a?"max":"min"](parseInt(e[1],10)+t,a?0:255)+", "+Math[a?"max":"min"](parseInt(e[2],10)+t,a?0:255)+(null!==r?", "+r:"")+")":["#",pad(Math[a?"max":"min"](parseInt(e[0],10)+t,a?0:255).toString(16),2),pad(Math[a?"max":"min"](parseInt(e[1],10)+t,a?0:255).toString(16),2),pad(Math[a?"max":"min"](parseInt(e[2],10)+t,a?0:255).toString(16),2)].join("")},lighterColor=function(e,t){return changeColor(e,t,!1)},darkerColor=function(e,t){return changeColor(e,t,!0)};function setLetterWidth(){if("function"==typeof setLetterWidth_Override)return setLetterWidth_Override();$(".customFontLetter").each(function(){parentWidth=$(this).parent().width(),elWidth=$(this).width(),$(this).width(elWidth/parentWidth*100+"%")}),equalheight(".customFontLetter")}function convertPercentEl(e){if("function"==typeof convertPercentEl_Override)return convertPercentEl_Override(e);container=e.parent(),containerWidth=container.width(),containerHeight=container.height(),elWidth=e.width(),elHeight=e.height(),elLeft=e.css("left").replace("px",""),elTop=e.css("top").replace("px",""),widthPercent=elWidth/containerWidth*100+"%",elHeight,containerHeight,heightPercent="auto",leftPercent=elLeft/containerWidth*100+"%",topPercent=elTop/containerHeight*100+"%",e.css({width:widthPercent,height:heightPercent,left:leftPercent,top:topPercent,margin:""})}function registerInitialValues(){if("function"==typeof registerInitialValues_Override)return registerInitialValues_Override();$('.fieldPane > [id^="main-"]').each(function(){splittedGroup=$(this).attr("id").split("-"),group=splittedGroup[1]+(void 0!==splittedGroup[2]?"-"+splittedGroup[2]:""),initialValues[group]=[],0<$(this).find(".img-item-row").length&&initialValues[group].push($(this).find(".img-item-row")),0<$(this).find(".color-ndk").length&&initialValues[group].push($(this).find(".color-ndk")),0<$(this).find(".ndk-select").length&&initialValues[group].push($(this).find(".ndk-select")),0<$(this).find(".ndk-radio").length&&initialValues[group].push($(this).find(".ndk-radio")),0<$(this).find(".ndk-checkbox").length&&initialValues[group].push($(this).find(".ndk-checkbox"))})}function loadInitialValues(){if("function"==typeof loadInitialValues_Override)return loadInitialValues_Override();for(idGroup in initialValues)if(void 0!==initialValues[idGroup]&&void 0!==initialValues[idGroup][0])for(var e=0;e<initialValues[idGroup][0].length;e++)element=initialValues[idGroup][0][e],container=$(".form-group[data-field='"+idGroup+"']"),$(element).hasClass("img-item-row")?0!=(idValue=$(element).find(".img-value:eq(0)").attr("data-id-value"))&&"undefined"!=typeof idValue&&""!=idValue&&0==$(".form-group[data-field='"+idGroup+"'] .img-value[data-id-value='"+idValue+"']").length&&($(element).removeClass("selected-value"),$(element).find(".img-value").removeClass("selected-value"),$(element).find(".svg-container").removeClass("selected-svg"),$(".form-group[data-field='"+idGroup+"'] .img-value").last().parent().after($(element)[0].outerHTML)):$(element).hasClass("color-ndk")?0!=(idValue=$(element).attr("data-id-value"))&&"undefined"!=typeof idValue&&""!=idValue&&0==$(".form-group[data-field='"+idGroup+"'] .color-ndk[data-id-value='"+idValue+"']").length&&($(element).removeClass("selected-color"),$(".form-group[data-field='"+idGroup+"'] .color-ndk").last().after($(element)[0].outerHTML)):$(element).is("select")&&$(element).find("option").each(function(){option=$(this),0!=(idValue=$(option).attr("data-id-value"))&&"undefined"!=typeof idValue&&""!=idValue&&0==$(".form-group[data-field='"+idGroup+"'] .ndk-select > option[data-id-value='"+idValue+"']").length&&$(".form-group[data-field='"+idGroup+"'] select").append($(option)[0].outerHTML)});setTimeout(function(){equalheight(".img-item-row")},1e3)}function makeGroupFieldsSlide(){if("function"==typeof makeGroupFieldsSlide_Override)return makeGroupFieldsSlide_Override();$(".groupFieldBlock").addClass("sliderBlock"),$(".groupFieldBlock > .form-group").addClass("ndkackFieldItem"),setTimeout(function(){ndkCfShowSlide($(".sliderBlock .ndkackFieldItem:visible:eq(0)"))},500),$(".sliderBlock").each(function(){0<(allItems=$(this).find(".ndkackFieldItem")).length?1<allItems.length&&(pager='<p class="ndkcfPager">',allItems.each(function(){pager+='<span data-view="'+$(this).attr("data-view")+'" target="'+$(this).attr("data-iteration")+'" class="ndkcfPagerItem"></span>'}),pager+="</p>",$(".ndkcfPager").remove(),$(this).append(pager).addClass("multipleSlides")):$(this).remove()}),$(".groupFieldBlock").css("padding-bottom",$(".sliderBlock .ndkackFieldItem:visible:eq(0)").innerHeight()),$(".groupFieldBlock.sliderBlock").find(".ndkcfnav").remove(),$(".groupFieldBlock.sliderBlock.multipleSlides").append('<p class="ndkcfnav"><a class="prevNdkcfItem">&nbsp;</a> <a class="nextNdkcfItem">&nbsp;</a></p>'),$(document).on("click",".nextNdkcfItem",function(){found=!1,current=$(this).parent().parent().find(".ndkackFieldItem.activeItem:eq(0)"),(others=$(this).parent().parent().find(".ndkackFieldItem:visible:not(.activeItem)")).each(function(){parseFloat($(this).attr("data-iteration"))>parseFloat(current.attr("data-iteration"))&&!found&&(ndkCfShowSlide($(this),"rtl"),found=!0)}),found||(ndkCfShowSlide(others.first(),"rtl"),found=!0)}),$(document).on("click",".prevNdkcfItem",function(){current=$(this).parent().parent().find(".ndkackFieldItem.activeItem:eq(0)"),others=$(this).parent().parent().find(".ndkackFieldItem:visible:not(.activeItem)"),bigger=-1,others.each(function(){parseFloat($(this).attr("data-iteration"))<parseFloat(current.attr("data-iteration"))&&parseFloat($(this).attr("data-iteration"))>bigger&&(bigger=parseFloat($(this).attr("data-iteration")),target=$(this))}),"undefined"!=typeof target?ndkCfShowSlide(target,"ltr"):ndkCfShowSlide(others.last(),"ltr")}),$(document).on("click",".ndkcfPagerItem",function(){ndkCfShowSlide($(this).parent().parent().find(".ndkackFieldItem[data-iteration='"+$(this).attr("target")+"']"))}),$(".sliderBlock00").swipe({swipe:function(e,t,a,i,r,o){"left"==t?$(this).find(".nextNdkcfItem").trigger("click"):"right"==t&&$(this).find(".prevNdkcfItem").trigger("click")},threshold:0}),$(".sliderBlock .ndkackFieldItem").resize(function(){$(this).parent().css("padding-bottom",$(".ndkackFieldItem.activeItem:eq(0)").innerHeight())})}function ndkCfShowSlide(e,t){if("function"==typeof ndkCfShowSlide_Override)return ndkCfShowSlide_Override(e,t);t=t||"ltr",$(".img-item-row").css("height",""),e.parent().find(".ndkackFieldItem").removeClass("activeItem"),e.parent().find(".ndkackFieldItem").removeClass("slideInRight").removeClass("slideInLeft"),"rtl"==t?e.parent().find(".ndkackFieldItem").addClass("slideInRight").removeClass("slideInLeft"):e.parent().find(".ndkackFieldItem").removeClass("slideInRight").addClass("slideInLeft"),e.addClass("activeItem"),e.parent().find(".ndkcfPagerItem").removeClass("activePager"),e.parent().find(".ndkcfPagerItem[target='"+e.attr("data-iteration")+"']").addClass("activePager"),setTimeout(function(){equalheight(".img-item-row"),e.parent().css("padding-bottom",$(".ndkackFieldItem.activeItem:eq(0)").innerHeight()),e.parent().find(".ndkackFieldItem").removeClass("slideInRight").removeClass("slideInLeft")},500)}function checkLayerChanges(){if("function"==typeof checkLayerChanges_Override)return checkLayerChanges_Override();0==$("#layer-block").find(".editThisLayer").length?$("#layer-block").hide():1==$("#layer-block").find(".editThisLayer").length&&0==$("#layer-block").find(".layer_title").length?$("#layer-block").show().prepend('<p class="layer_title">'+selectLayer+"</p>"):0<$("#layer-block").find(".editThisLayer").length&&$("#layer-block").show()}function makeSortable(){if("function"==typeof makeSortable_Override)return makeSortable_Override();$(".itemsBlock").sortable({items:".designer-item-container",handle:".itemToggler",cursor:"move",opacity:.6,start:function(e,t){$(".resetZones").trigger("click")},stop:function(e,t){refZindex=t.item.parent().parent().parent().find("button:eq(0)").attr("data-zindex"),(others=t.item.parent().find(".designer-item-container")).each(function(){$(this).attr("addzindex",$(others).index($(this))),block=$(this).find(".designer-item"),target_key=block.attr("id").replace("item-",""),(target=$("#visual_"+target_key)).css("z-index",refZindex+$(others).index($(this)))})}})}function RemoveSelectOptions(e,t){var a;inputa=$("li[data-id-value='"+e+"']").find(".ndk-accessory-quantity:eq(0)"),0!=parseInt(inputa.val())&&($("li[data-id-value='"+e+"']").removeClass("selected-accessory"),inputa.val(0).trigger("change"),e=$("#ndk-accessory-quantity-"+e).attr("data-price"),a=$("#price_"+t).val(),$("#price_"+t).val(parseInt(a)-parseInt(e)))}function checaSeImgExiste(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!=t.status}function numeroFolhasCortinaSM(){var e,t,a=!1;[30836,30837,30838,30842,30843,30844,30845,30846,30847,30848,30849,30850,30851,30852].forEach(function(e){0<parseInt($("#ndk-accessory-quantity-"+e).val(),10)&&(a=!0)}),a&&(e=$("#ndkcsfield_2267").val()||$("#ndkcsfield_2270").val()||$("#ndkcsfield_4871").val()||$("#ndkcsfield_4872").val()||$("#ndkcsfield_4923").val()||$("#ndkcsfield_4924").val()||$("#ndkcsfield_5157").val()||$("#ndkcsfield_5172").val())?(e=e.match(/(\d+)\s*mm/))&&(t="",t=(e=parseInt(e[1],10))<=3800?"3 Flügel":e<=5e3?"4 Flügel":"8 Flügel",$("#text_5617").val(t),$("#text_5617").attr("value",t),$("#ndkcsfield_5617").html(t)):($("#text_5617").val(""),$("#text_5617").attr("value",""),$("#ndkcsfield_5617").html(""))}function numeroFolhasCortinaSTD(){var e,t,a=!1;[30853,30854,30855,30856,30857,30858,30859,30860,30861,30862,30863,30864,30865,30866].forEach(function(e){0<parseInt($("#ndk-accessory-quantity-"+e).val(),10)&&(a=!0)}),a&&(e=$('input[name="ndkcsfield[1503]"]:checked').val()||$('input[name="ndkcsfield[2029]"]:checked').val()||$('input[name="ndkcsfield[2276]"]:checked').val()||$('input[name="ndkcsfield[2277]"]:checked').val())&&(e=e.match(/(\d+)\s*mm/g))&&0!==e.length?(e=e.map(function(e){return parseInt(e)}),t="",t=(e=Math.max.apply(null,e))<=3800?"3 Flügel":e<=5e3?"4 Flügel":"8 Flügel",$("#text_5617").val(t),$("#text_5617").attr("value",t),$("#ndkcsfield_5617").html(t)):($("#text_5617").val(""),$("#text_5617").attr("value",""),$("#ndkcsfield_5617").html(""))}function makeSocialCompo(e,t){if("function"==typeof makeSocialCompo_Override)return makeSocialCompo_Override(e,t);1==showSocialTools&&($.prototype.fancybox&&t?(data=$(".ndkShareCompo").html(),$.fancybox.open([{type:"inline",autoScale:!1,minHeight:30,width:"80%",height:"80%",showCloseButton:!1,autoDimensions:!1,content:'<div class="popupSocialContainer clear clearfix">'+data+"</div>",beforeShow:function(){setSharedButtons(e)}}],{padding:0})):setSharedButtons(e))}function setSharedButtons(e){if("function"==typeof setSharedButtons_Override)return setSharedButtons_Override(e);sharing_url=addParameterToURL("id_ndk_customization_field_configuration="+e,sharing_url=removeParamUrl("id_ndk_customization_field_configuration",window.location.href)),sharing_url=addParameterToURL("date="+$.now(),sharing_url),sharing_name="",img_url=$(".current_config_img").attr("src"),$(".copyLinkInput").text(sharing_url),""!=img_url?$(".shareImgDl").attr("href",img_url).show():$(".shareImgDl").hide(),$.ajax({async:!0,type:"GET",global:!1,dataType:"html",url:baseUrl+"modules/ndk_advanced_custom_fields/front_ajax.php",data:{id_conf:e,action:"getConfImage"},success:function(e){var t=$("#image-url-0").val();$(".current_config_img:eq(0)").attr("src",t).show(),$("button.ndk-social-sharing:not(.shareImgDl), button.social-sharing").on("click",function(){if((type=$(this).attr("data-type")).length)switch(type){case"twitter":window.open("https://twitter.com/intent/tweet?text="+sharing_name+" "+encodeURIComponent(sharing_url),"sharertwt","toolbar=0,status=0,width=640,height=445");break;case"facebook":window.open("http://www.facebook.com/sharer.php?u="+sharing_url,"sharer","toolbar=0,status=0,width=660,height=445");break;case"google-plus":window.open("https://plus.google.com/share?url="+sharing_url,"sharer","toolbar=0,status=0,width=660,height=445");break;case"pinterest":window.open("http://www.pinterest.com/pin/create/button/?media="+t+"&url="+sharing_url,"sharerpinterest","toolbar=0,status=0,width=660,height=445");break;case"copyLink":copyToClipboard(".copyLinkInput:eq(0)")}})}})}function copyToClipboard(e){var t=$("<input>");$("body").append(t),t.val($(e).text()).select(),document.execCommand("copy"),t.remove()}function addParameterToURL(e,t){return _url=t,_url+=(-1!==_url.indexOf("?")?"&":"?")+e}function removeParamUrl(e,t){var a=t.split("?")[0],i=[],t=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==t){for(var r=(i=t.split("&")).length-1;0<=r;--r)i[r].split("=")[0]===e&&i.splice(r,1);a+=0<i.lenght?"?"+i.join("&"):""}return a}function ndkImagetoDataURLForSvg(e,t){var a=new Image;-1!==e.indexOf("http")?(a.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0),t(a)},a.src=e):t(!1)}function png2svg(e,t,a,i){var r={corsenabled:!1,ltres:1,qtres:1,pathomit:1,rightangleenhance:!0,colorsampling:2,numberofcolors:2,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:0,linefilter:!0,scale:1,roundcoords:1,viewbox:!0,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:10};e?(width=e.naturalWidth,height=e.naturalHeight,textureEffect=e.src,background=(background='<defs><pattern xmlns="http://www.w3.org/2000/svg" id="texture_'+i+'" patternUnits="userSpaceOnUse" height="'+height+'" width="'+width+'" overflow="visible">')+'<image xlink:href="'+textureEffect+'" height="'+height+'" width="'+width+'" x="0" y="0" /></pattern></defs>',ImageTracer.imageToSVG(t,function(e){$("#visual_"+i).prepend(e),$("#visual_"+i).find("path").attr("fill","url(#texture_"+i+")"),svgNode=$("#visual_"+i).find("svg")[0],newSvgStr=svgNode.outerHTML,fullSvgStr=newSvgStr.replace('xml:space="preserve">','xml:space="preserve">'+background),imgNode='<object class="replaced-svg composition_element" data="data:image/svg+xml;base64,'+window.btoa(fullSvgStr)+'" type="image/svg+xml"><img src="maskUrl"/></object>',$("#visual_"+i).prepend(imgNode),$("#visual_"+i).find("svg").remove()},r)):ImageTracer.imageToSVG(t,function(e){$("#visual_"+i).find("svg").remove(),$("#visual_"+i).prepend(e),$("#visual_"+i).find("path").attr("fill",a),$("#visual_"+i).find("svg").addClassSVG("replaced-svg composition_element").attr("id","traced_svg_"+i)},r)}function trocaCorStore(e,t){console.log("campoStore "+e),console.log("novaImagem "+t),1==checaSeImgExiste("https://"+document.domain+"/img/fechos_pergola/"+t+".png")&&(void 0!==zindexImgs[e]?$("#image-block").append("<div class='absolute-visu view-0 absolute-img aluclass_fechos aluclass_fechos_tecidos aluclass_"+e+"' style='z-index: 1;'><img class='composition_element img-reponsive aluclass_"+e+"' src='/img/fechos_pergola/"+t+".png'/></div>"):$("#image-block").append("<div class='absolute-visu view-0 absolute-img aluclass_fechos aluclass_fechos_tecidos aluclass_"+e+"' style='z-index: 2;'><img class='composition_element img-reponsive aluclass_"+e+"' src='/img/fechos_pergola/"+t+".png'/></div>"))}$(document).on("keyup",".visual-text-custom-font",function(){group=$(this).attr("data-group"),text=$(this).val(),textArray=text.split(""),htmlLetter="";for(var e=0;e<textArray.length;e++)htmlLetter+='<span class="customFontLetter customFont_'+group+"_letter_"+textArray[e]+'">'+textArray[e]+"</span>";$.when($(this).parent().find(".custom-font-rendering").html(htmlLetter)).then(function(){$(".customFontLetter").each(function(){content=(content=$(this).css("content")).replace('url("',"").replace('")',""),$(this).html('<img src="'+content+'"/>'),convertPercentEl($(this))})})}),$(document).on("click",".submitCSText",function(){group=$(this).parent().find(".visual-text-custom-font").attr("data-group"),zindex=$(this).parent().find(".visual-text-custom-font").attr("data-zindex"),price=$(this).parent().find(".visual-text-custom-font").attr("data-price"),ppcprice=$(this).parent().find(".visual-text-custom-font").attr("data-ppcprice"),blend=$(this).parent().find(".visual-text-custom-font").attr("data-blend"),view=$(this).parent().find(".visual-text-custom-font").attr("data-view"),dragdrop=$(this).parent().find(".visual-text-custom-font").attr("data-dragdrop"),resizeable=$(this).parent().find(".visual-text-custom-font").attr("data-resizeable"),rotateable=$(this).parent().find(".visual-text-custom-font").attr("data-rotateable"),charsCount=0,""==(texte=$(this).parent().find(".visual-text-custom-font").text())||" "==texte?(price=0,texte=""):price=0<ppcprice?ppcprice*charsCount:$(this).parent().find(".visual-text-custom-font").attr("data-price"),""!=texte&&" "!=texte||(price=0,texte=""),height=$(this).parent().find(".custom-font-rendering").innerHeight(),width=$(this).parent().find(".custom-font-rendering").innerWidth(),html='<div id="cecft_'+group+'" class="composition_element customFontTextElement" style="height:'+height+"px; width:"+width+'px">'+$(this).parent().find(".custom-font-rendering").html()+"</div>",updatePriceNdk(price,parseInt(group)),$.when(designCompo(html,group,view,zindex,dragdrop,resizeable,rotateable,width,height,"svg",blend)).then(function(){$("#cecft_"+group).css({height:"",width:""})})}),$("audio").on("play",function(){$(this).attr("id");$("audio").not(this).each(function(e,t){t.pause()})}),$("video").on("play",function(){$(this).attr("id");$("video").not(this).each(function(e,t){t.pause()})}),$(document).on("click",".form-group",function(){field=$(this).attr("data-field"),$(".editThisLayer").removeClass("layerActive"),$(".resetZones").remove(),$(".zone_limit, .absolute-visu").removeClass("activeZone").removeClass("discretZone"),(0<(zone=$(".zone_limit[data-group='"+field+"'], .absolute-visu[data-group='"+field+"']")).find(".ui-resizable, .ui-draggable, .rotatable").length||zone.is(".ui-resizable",".ui-draggable",".rotatable"))&&!$(this).hasClass("activeFormGroup_ooooooo")?($(".form-group").removeClass("activeFormGroup"),$(this).addClass("activeFormGroup"),$(".zone_limit, .absolute-visu").addClass("discretZone"),zone.addClass("activeZone").removeClass("discretZone"),$("#layer-edit-"+field).addClass("layerActive"),$(".editThisLayer[data-group*='"+field+"-']").addClass("layerActive").find(".ui-resizable, .ui-draggable, .rotatable").trigger("mouseover"),$("#layer-block").append('<span class="resetZones">'+resetText+"</span>")):($(".zone_limit, .absolute-visu").removeClass("activeZone").removeClass("discretZone"),$(".editThisLayer").removeClass("layerActive"),$(".form-group").removeClass("activeFormGroup"),$(".resetZones").remove())}),$(document).on("click",".editThisLayer",function(){group=$(this).attr("data-group").split("-"),$(".editThisLayer").removeClass("layerActive"),$(this).addClass("layerActive"),$(".form-group[data-field='"+group[0]+"']").trigger("click")}),$(document).on("mousedown",".absolute-visu",function(){$(this).is(".ui-resizable",".ui-draggable",".rotatable")&&(group=$(this).attr("data-group").split("-"),$(".editThisLayer").removeClass("layerActive"),$(this).addClass("activeZone"),$(".form-group[data-field='"+group[0]+"']").trigger("click"))}),$(document).on("click",".resetZones",function(){$(".zone_limit, .absolute-visu").removeClass("activeZone").removeClass("discretZone"),$(".editThisLayer").removeClass("layerActive"),$(".form-group").removeClass("activeFormGroup"),$(".resetZones").remove(),snapShotLight()}),$(document).on("keydown",'#ndkcsfields input[type="text"]',function(e){13!=e.keyCode&&9!=e.keyCode||($(this).focus(),e.preventDefault())}),$(document).on("click",".colse-comb-tab",function(){$(this).parent().parent().parent().find(".combColumn").removeClass("openedCol").css("height","")}),$(document).on("click",".ndkcf_col_title",function(){$(this).parent().hasClass("openedCol")||($(this).parent().parent().find(".combColumn").removeClass("openedCol").css("height",""),originalHeight=$(this).parent().innerHeight(),refPosition=$(this).parent().position().top,$.when($(this).parent().addClass("openedCol")).done(function(){combHeight=$(this).parent().find(".combRowList").innerHeight(),$(this).parent().css("height",combHeight+originalHeight+50+"px"),$(".combColumn").each(function(){$(this).position().top==refPosition&&$(this).css("height",combHeight+originalHeight+50+"px")})}),equalheight($(this).parent().find(".combRow")))}),$(document).on("click",".toggleQuantityDiscountBlock",function(){content=$(this).parent().find(".specificPriceBlock").html(),$.prototype.fancybox&&$.fancybox.open([{type:"inline",autoScale:!1,minHeight:30,width:"80%",height:"80%",showCloseButton:!1,autoDimensions:!1,content:'<div class="popupSpecificPrice clear clearfix">'+content+"</div>",beforeShow:function(){}}],{padding:0})}),$(document).on("click",".toggleQuantityDiscount",function(){$(this).parent().find(".quantityDiscount").slideToggle()}),$(document).off("mousedown",".accessory-ndk-no-quantity .accessory_img_block"),$(document).on("mousedown",".accessory-ndk-no-quantity .accessory_img_block",function(){var e=[[15002,15006],[15002,16280],[15002,30856],[15002,31022],[15006,15002],[15006,16280],[15006,30856],[15006,31022],[16280,15002],[16280,15006],[16280,30856],[16280,31022],[30856,15002],[30856,15006],[30856,16280],[30856,31022],[31022,15002],[31022,15006],[31022,16280],[31022,30856],[15002,31023],[15002,31024],[15002,31025],[31022,15003],[31022,15004],[31022,15005],[15003,15007],[15003,16281],[15003,30857],[15003,31023],[15007,15003],[15007,16281],[15007,30857],[15007,31023],[16281,15003],[16281,15007],[16281,30857],[16281,31023],[30857,15003],[30857,15007],[30857,16281],[30857,31023],[31023,15003],[31023,15007],[31023,16281],[31023,30857],[15003,31022],[15003,31024],[15003,31025],[31023,15002],[31023,15004],[31023,15005],[15004,15008],[15004,16282],[15004,30858],[15004,31024],[15008,15004],[15008,16282],[15008,30858],[15008,31024],[16282,15004],[16282,15008],[16282,30858],[16282,31024],[30858,15004],[30858,15008],[30858,16282],[30858,31024],[31024,15004],[31024,15008],[31024,16282],[31024,30858],[15004,31022],[15004,31023],[15004,31025],[31024,15002],[31024,15003],[31024,15005],[15005,15009],[15005,16283],[15005,30859],[15005,31025],[15009,15005],[15009,16283],[15009,30859],[15009,31025],[16283,15005],[16283,15009],[16283,30859],[16283,31025],[30859,15005],[30859,15009],[30859,16283],[30859,31025],[31025,15005],[31025,15009],[31025,16283],[31025,30859],[15005,31022],[15005,31023],[15005,31024],[31025,15002],[31025,15003],[31025,15004],[15094,15098],[15094,16284],[15094,30853],[15094,31019],[15098,15094],[15098,16284],[15098,30853],[15098,31019],[16284,15094],[16284,15098],[16284,30853],[16284,31019],[30853,15094],[30853,15098],[30853,16284],[30853,31019],[31019,15094],[31019,15098],[31019,16284],[31019,30853],[15094,31020],[15094,31021],[31019,15095],[31019,15096],[15095,15099],[15095,16285],[15095,30854],[15095,31020],[15099,15095],[15099,16285],[15099,30854],[15099,31020],[16285,15095],[16285,15099],[16285,30854],[16285,31020],[30854,15095],[30854,15099],[30854,16285],[30854,31020],[31020,15095],[31020,15099],[31020,16285],[31020,30854],[15095,31019],[15095,31021],[31020,15094],[31020,15096],[15096,15100],[15096,16286],[15096,30855],[15096,31021],[15100,15096],[15100,16286],[15100,30855],[15100,31021],[16286,15096],[16286,15100],[16286,30855],[16286,31021],[30855,15096],[30855,15100],[30855,16286],[30855,31021],[31021,15096],[31021,15100],[31021,16286],[31021,30855],[15096,31019],[15096,31020],[31021,15094],[31021,15095],[15102,15106],[15102,15110],[15102,30846],[15102,31012],[15106,15102],[15106,15110],[15106,30846],[15106,31012],[15110,15102],[15110,15106],[15110,30846],[15110,31012],[30846,15102],[30846,15106],[30846,15110],[30846,31012],[31012,15102],[31012,15106],[31012,15110],[31012,30846],[15102,31013],[15102,31014],[31012,15103],[31012,15104],[15103,15107],[15103,15111],[15103,30847],[15103,31013],[15107,15103],[15107,15111],[15107,30847],[15107,31013],[15111,15103],[15111,15107],[15111,30847],[15111,31013],[30847,15103],[30847,15107],[30847,15111],[30847,31013],[31013,15103],[31013,15107],[31013,15111],[31013,30847],[15103,31012],[15103,31014],[31013,15102],[31013,15104],[15104,15108],[15104,15112],[15104,30848],[15104,31014],[15108,15104],[15108,15112],[15108,30848],[15108,31014],[15112,15104],[15112,15108],[15112,30848],[15112,31014],[30848,15104],[30848,15108],[30848,15112],[30848,31014],[31014,15104],[31014,15108],[31014,15112],[31014,30848],[15104,31012],[15104,31013],[31014,15102],[31014,15103],[15076,15080],[15076,15086],[15076,30849],[15076,31015],[15080,15076],[15080,15086],[15080,30849],[15080,31015],[15086,15076],[15086,15080],[15086,30849],[15086,31015],[30849,15076],[30849,15080],[30849,15086],[30849,31015],[31015,15076],[31015,15080],[31015,15086],[31015,30849],[15076,31016],[15076,31017],[15076,31018],[31015,15077],[31015,15078],[31015,15079],[15077,15081],[15077,15087],[15077,30850],[15077,31016],[15081,15077],[15081,15087],[15081,30850],[15081,31016],[15087,15077],[15087,15081],[15087,30850],[15087,31016],[30850,15077],[30850,15081],[30850,15087],[30850,31016],[31016,15077],[31016,15081],[31016,15087],[31016,30850],[15077,31015],[15077,31017],[15077,31018],[31016,15076],[31016,15078],[31016,15079],[15078,15082],[15078,15088],[15078,30851],[15078,31017],[15082,15078],[15082,15088],[15082,30851],[15082,31017],[15088,15078],[15088,15082],[15088,30851],[15088,31017],[30851,15078],[30851,15082],[30851,15088],[30851,31017],[31017,15078],[31017,15082],[31017,15088],[31017,30851],[15078,31015],[15078,31016],[15078,31018],[31017,15076],[31017,15077],[31017,15079],[15079,15083],[15079,15089],[15079,30852],[15079,31018],[15083,15079],[15083,15089],[15083,30852],[15083,31018],[15089,15079],[15089,15083],[15089,30852],[15089,31018],[30852,15079],[30852,15083],[30852,15089],[30852,31018],[31018,15079],[31018,15083],[31018,15089],[31018,30852],[15079,31015],[15079,31016],[15079,31017],[31018,15076],[31018,15077],[31018,15078],[17805,17808],[17805,17811],[17805,30860],[17805,31026],[17808,17805],[17808,17811],[17808,30860],[17808,31026],[17811,17805],[17811,17808],[17811,30860],[17811,31026],[30860,17805],[30860,17811],[30860,17808],[30860,31026],[31026,17805],[31026,17811],[31026,17808],[31026,30860],[17805,31027],[17805,31028],[31026,17806],[31026,17807],[17806,17809],[17806,17812],[17806,30861],[17806,31027],[17809,17806],[17809,17812],[17809,30861],[17809,31027],[17812,17806],[17812,17809],[17812,30861],[17812,31027],[30861,17806],[30861,17812],[30861,17809],[30861,31027],[31027,17806],[31027,17812],[31027,17809],[31027,30861],[17806,31026],[17806,31028],[31027,17805],[31027,17807],[17807,17810],[17807,17813],[17807,30862],[17807,31028],[17810,17807],[17810,17813],[17810,30862],[17810,31028],[17813,17807],[17813,17810],[17813,30862],[17813,31028],[30862,17807],[30862,17813],[30862,17810],[30862,31028],[31028,17807],[31028,17813],[31028,17810],[31028,30862],[17807,31026],[17807,31027],[31028,17805],[31028,17806],[17814,17818],[17814,17822],[17814,30863],[17814,31029],[17818,17814],[17818,17822],[17818,30863],[17818,31029],[17822,17814],[17822,17818],[17822,30863],[17822,31029],[30863,17814],[30863,17822],[30863,17818],[30863,31029],[31029,17814],[31029,17822],[31029,17818],[31029,30863],[17814,31030],[17814,31031],[17814,31032],[31029,17815],[31029,17816],[31029,17817],[17815,17819],[17815,17823],[17815,30864],[17815,31030],[17819,17815],[17819,17823],[17819,30864],[17819,31030],[17823,17815],[17823,17819],[17823,30864],[17823,31030],[30864,17815],[30864,17819],[30864,17823],[30864,31030],[31030,17815],[31030,17819],[31030,17823],[31030,30864],[17815,31029],[17815,31031],[17815,31032],[31030,17814],[31030,17816],[31030,17817],[17816,17820],[17816,17824],[17816,30865],[17816,31031],[17820,17816],[17820,17824],[17820,30865],[17820,31031],[17824,17816],[17824,17820],[17824,30865],[17824,31031],[30865,17816],[30865,17820],[30865,17824],[30865,31031],[31031,17816],[31031,17820],[31031,17824],[31031,30865],[17816,31029],[17816,31030],[17816,31032],[31031,17814],[31031,17815],[31031,17817],[17817,17821],[17817,17825],[17817,30866],[17817,31032],[17821,17817],[17821,17825],[17821,30866],[17821,31032],[17825,17817],[17825,17821],[17825,30866],[17825,31032],[30866,17817],[30866,17821],[30866,17825],[30866,31032],[31032,17817],[31032,17821],[31032,17825],[31032,30866],[17817,31029],[17817,31030],[17817,31031],[31032,17814],[31032,17815],[31032,17816],[22114,22118],[22114,22120],[22114,22296],[22118,22114],[22118,22120],[22118,22296],[22120,22114],[22120,22118],[22120,22296],[22296,22114],[22296,22118],[22296,22120],[22115,22119],[22115,22121],[22115,22297],[22119,22115],[22119,22121],[22119,22297],[22121,22115],[22121,22119],[22121,22297],[22297,22115],[22297,22119],[22297,22121],[22116,22117],[22116,22298],[22117,22116],[22117,22298],[22298,22116],[22298,22117],[22130,22129],[22143,22147],[22143,22149],[22143,22288],[22147,22143],[22147,22149],[22147,22288],[22149,22143],[22149,22147],[22149,22288],[22288,22143],[22288,22147],[22288,22149],[22144,22148],[22144,22150],[22144,22289],[22148,22144],[22148,22150],[22148,22289],[22150,22144],[22150,22148],[22150,22289],[22289,22144],[22289,22148],[22289,22150],[22145,22146],[22145,22290],[22146,22145],[22146,22290],[22290,22145],[22290,22146],[28260,28264],[28260,28268],[28260,30842],[28260,31008],[28264,28260],[28264,28268],[28264,30842],[28264,31008],[28268,28260],[28268,28264],[28268,30842],[28268,31008],[30842,28260],[30842,28264],[30842,28268],[30842,31008],[31008,28260],[31008,28264],[31008,28268],[31008,30842],[28260,31009],[28260,31010],[28260,31011],[31008,28261],[31008,28262],[31008,28263],[28261,28265],[28261,28269],[28261,30843],[28261,31009],[28265,28261],[28265,28269],[28265,30843],[28265,31009],[28269,28261],[28269,28265],[28269,30843],[28269,31009],[30843,28261],[30843,28265],[30843,28269],[30843,31009],[31009,28261],[31009,28265],[31009,28269],[31009,30843],[28261,31008],[28261,31010],[28261,31011],[31009,28260],[31009,28262],[31009,28263],[28262,28266],[28262,28270],[28262,30844],[28262,31010],[28266,28262],[28266,28270],[28266,30844],[28266,31010],[28270,28262],[28270,28266],[28270,30844],[28270,31010],[30844,28262],[30844,28266],[30844,28270],[30844,31010],[31010,28262],[31010,28266],[31010,28270],[31010,30844],[28262,31008],[28262,31009],[28262,31011],[31010,28260],[31010,28261],[31010,28263],[28263,28267],[28263,28271],[28263,30845],[28263,31011],[28267,28263],[28267,28271],[28267,30845],[28267,31011],[28271,28263],[28271,28267],[28271,30845],[28271,31011],[30845,28263],[30845,28267],[30845,28271],[30845,31011],[31011,28263],[31011,28267],[31011,28271],[31011,30845],[28263,31008],[28263,31009],[28263,31010],[31011,28260],[31011,28261],[31011,28262],[28272,28275],[28272,28278],[28272,30836],[28272,30935],[28275,28272],[28275,28278],[28275,30836],[28275,30935],[28278,28272],[28278,28275],[28278,30836],[28278,30935],[30836,28272],[30836,28275],[30836,28278],[30836,30935],[30935,28272],[30935,28275],[30935,28278],[30935,30836],[28272,30936],[28272,30937],[30935,28273],[30935,28274],[28273,28276],[28273,28279],[28273,30837],[28273,30936],[28276,28273],[28276,28279],[28276,30837],[28276,30936],[28279,28273],[28279,28276],[28279,30837],[28279,30936],[30837,28273],[30837,28276],[30837,28279],[30837,30936],[30936,28273],[30936,28276],[30936,28279],[30936,30837],[28273,30935],[28273,30937],[30936,28272],[30936,28274],[28274,28277],[28274,28280],[28274,30838],[28274,30937],[28277,28274],[28277,28280],[28277,30838],[28277,30937],[28280,28274],[28280,28277],[28280,30838],[28280,30937],[30838,28274],[30838,28277],[30838,28280],[30838,30937],[30937,28274],[30937,28277],[30937,28280],[30937,30838],[28274,30935],[28274,30936],[30937,28272],[30937,28273]];(zindexImgs=[])[15003]=["1"],zindexImgs[15007]=["1"],zindexImgs[16281]=["1"],zindexImgs[30857]=["1"],zindexImgs[31023]=["1"],zindexImgs[15005]=["1"],zindexImgs[15009]=["1"],zindexImgs[16283]=["1"],zindexImgs[30859]=["1"],zindexImgs[31025]=["1"],zindexImgs[15095]=["1"],zindexImgs[15099]=["1"],zindexImgs[16285]=["1"],zindexImgs[30854]=["1"],zindexImgs[31020]=["1"],zindexImgs[28260]=["1"],zindexImgs[28264]=["1"],zindexImgs[28268]=["1"],zindexImgs[30842]=["1"],zindexImgs[31008]=["1"],zindexImgs[28263]=["0"],zindexImgs[28267]=["0"],zindexImgs[28271]=["0"],zindexImgs[30845]=["0"],zindexImgs[31011]=["0"],zindexImgs[28272]=["1"],zindexImgs[28275]=["1"],zindexImgs[28278]=["1"],zindexImgs[30836]=["1"],zindexImgs[30935]=["1"],zindexImgs[17815]=["1"],zindexImgs[17819]=["1"],zindexImgs[17823]=["1"],zindexImgs[30864]=["1"],zindexImgs[31030]=["1"],zindexImgs[17817]=["1"],zindexImgs[17821]=["1"],zindexImgs[17825]=["1"],zindexImgs[30866]=["1"],zindexImgs[31032]=["1"],zindexImgs[17806]=["1"],zindexImgs[17809]=["1"],zindexImgs[17812]=["1"],zindexImgs[30861]=["1"],zindexImgs[31027]=["1"],zindexImgs[15077]=["1"],zindexImgs[15081]=["1"],zindexImgs[15087]=["1"],zindexImgs[30850]=["1"],zindexImgs[31016]=["1"],zindexImgs[15079]=["1"],zindexImgs[15083]=["1"],zindexImgs[15089]=["1"],zindexImgs[30852]=["1"],zindexImgs[31018]=["1"],zindexImgs[15103]=["1"],zindexImgs[15107]=["1"],zindexImgs[15111]=["1"],zindexImgs[30847]=["1"],zindexImgs[31013]=["1"],zindexImgs[22114]=["1"],zindexImgs[22115]=["2"],zindexImgs[22118]=["1"],zindexImgs[22119]=["2"],zindexImgs[22120]=["1"],zindexImgs[22121]=["1"],zindexImgs[22296]=["1"],zindexImgs[22297]=["1"],zindexImgs[22129]=["1"],zindexImgs[22143]=["1"],zindexImgs[22144]=["2"],zindexImgs[22147]=["1"],zindexImgs[22148]=["1"],zindexImgs[22149]=["1"],zindexImgs[22150]=["1"],zindexImgs[22289]=["1"],zindexImgs[22288]=["1"],(campoCorPergola=[])[2001]=["2011"],campoCorPergola[2017]=["2019"],campoCorPergola[2014]=["2302"],campoCorPergola[2018]=["2007"],campoCorPergola[2280]=["2278"],campoCorPergola[2281]=["2279"],campoCorPergola[4877]=["4864","5166"],campoCorPergola[4878]=["4865","5151"],campoCorPergola[3103]=["2409"],campoCorPergola[3106]=["2425"],campoCorPergola[3108]=["2401"],(campoCorTecido=[])[2001]=["2234","5599"],campoCorTecido[2017]=["2234","5599"],campoCorTecido[2018]=["2251","5598"],campoCorTecido[2014]=["2251","5598"],campoCorTecido[2280]=["2289","5600"],campoCorTecido[2281]=["4913","5600"],campoCorTecido[4878]=["4879","5587"],campoCorTecido[4877]=["4881","5587"],campoCorTecido[3103]=["3104"],campoCorTecido[3106]=["3105"],campoCorTecido[3108]=["3109"],(opcoesStoreChange=[])[2001]=["15002","15003","15004","15005","31022","31023","31024","31025"],opcoesStoreChange[2017]=["15094","15095","15096","31019","31020","31021"],opcoesStoreChange[2014]=["15076","15077","15078","15079","31015","31016","31017","31018"],opcoesStoreChange[2018]=["15102","15103","15104","31012","31013","31014"],opcoesStoreChange[2280]=["17805","17806","17807","31026","31027","31028"],opcoesStoreChange[2281]=["17814","17815","17816","17817","31029","31030","31031","31032"],opcoesStoreChange[4877]=["28260","28261","28262","28263","31008","31009","31010","31011"],opcoesStoreChange[4878]=["28272","28273","28274","30935","30936","30937"],opcoesStoreChange[3103]=["22114","22115","22116"],opcoesStoreChange[3106]=["22129"],opcoesStoreChange[3108]=["22143","22144","22145"],me=$(this).parent();if(-1!==$.inArray(me.attr("data-group"),["2001","2017","2014","2018","2280","2281","3103","3106","3108","4777","4778","4877","4878"])){for(i=0;i<e.length;i++)e[i][0]==me.attr("data-id-value")&&(RemoveSelectOptions(e[i][1],me.attr("data-group")),$("div").remove(".aluclass_"+e[i][1]),$(me).hasClass("selected-accessory")?$("div").remove(".aluclass_"+e[i][0]):"4878"!=me.data("group")&&"4877"!=me.data("group")&&"4778"!=me.data("group")&&"4777"!=me.data("group")&&"3108"!=me.data("group")&&"3106"!=me.data("group")&&"3103"!=me.data("group")&&"2281"!=me.data("group")&&"2280"!=me.data("group")&&"2018"!=me.data("group")&&"2014"!=me.data("group")&&"2017"!=me.data("group")&&"2001"!=me.data("group")||("undefined"==typeof(campoCor=$("li[data-group='"+campoCorPergola[me.data("group")][0]+"'].color-ndk.selected-value").data("title"))&&(campoCor=$("li[data-group='"+campoCorPergola[me.data("group")][1]+"'].color-ndk.selected-value").data("title")),cor=campoCor.match(/7016/)?"7016":campoCor.match(/9016/)?"9016":campoCor.match(/9005/)?"9005":campoCor.match(/8019/)?"8019":campoCor.match(/8014/)?"8014":campoCor.match(/7035/)?"7035":campoCor.match(/6005/)?"6005":campoCor.match(/5015/)?"5015":campoCor.match(/5013/)?"5013":campoCor.match(/3005/)?"3005":campoCor.match(/1015/)?"1015":campoCor.match(/3030/)?"3030":campoCor.match(/0202/)?"0202":"7016",console.log(e[i][0]+"-"+cor),$("div.aluclass_"+e[i][0]).length)||1==checaSeImgExiste("https://"+document.domain+"/img/fechos_pergola/"+e[i][0]+"-"+cor+".png")&&(void 0!==zindexImgs[e[i][0]]?$("#image-block").append("<div class='absolute-visu view-0 absolute-img aluclass_fechos aluclass_"+e[i][0]+"' style='z-index: 1;'><img class='composition_element img-reponsive aluclass_"+e[i][0]+"' src='/img/fechos_pergola/"+e[i][0]+"-"+cor+".png'/></div>"):$("#image-block").append("<div class='absolute-visu view-0 absolute-img aluclass_fechos aluclass_"+e[i][0]+"' style='z-index: 2;'><img class='composition_element img-reponsive aluclass_"+e[i][0]+"' src='/img/fechos_pergola/"+e[i][0]+"-"+cor+".png'/></div>")));-1!==$.inArray(me.attr("data-id-value"),opcoesStoreChange[me.data("group")])&&$("div[data-field='"+campoCorTecido[me.data("group")][0]+"'] li").hasClass("selected-value")&&$("div[data-field='"+campoCorTecido[me.data("group")][0]+"'] li.selected-value").trigger("click")}}),$(document).on("change","#ndkcsfield_2267, #ndkcsfield_2270, #ndkcsfield_4871, #ndkcsfield_4872, #ndkcsfield_4923, #ndkcsfield_4924, #ndkcsfield_5157, #ndkcsfield_5172",function(){numeroFolhasCortinaSM()}),$(document).on("change","#ndk-accessory-quantity-30836, #ndk-accessory-quantity-30837, #ndk-accessory-quantity-30838, #ndk-accessory-quantity-30842, #ndk-accessory-quantity-30843, #ndk-accessory-quantity-30844, #ndk-accessory-quantity-30845, #ndk-accessory-quantity-30846, #ndk-accessory-quantity-30847, #ndk-accessory-quantity-30848, #ndk-accessory-quantity-30849, #ndk-accessory-quantity-30850, #ndk-accessory-quantity-30851, #ndk-accessory-quantity-30852",function(){numeroFolhasCortinaSM()}),$(document).on("change",'input[name="ndkcsfield[1503]"], input[name="ndkcsfield[2029]"], input[name="ndkcsfield[2276]"], input[name="ndkcsfield[2277]"]',function(){numeroFolhasCortinaSTD()}),$(document).on("change","#ndk-accessory-quantity-30853, #ndk-accessory-quantity-30854, #ndk-accessory-quantity-30855, #ndk-accessory-quantity-30856, #ndk-accessory-quantity-30857, #ndk-accessory-quantity-30858, #ndk-accessory-quantity-30859, #ndk-accessory-quantity-30860, #ndk-accessory-quantity-30861, #ndk-accessory-quantity-30862, #ndk-accessory-quantity-30863, #ndk-accessory-quantity-30864, #ndk-accessory-quantity-30865, #ndk-accessory-quantity-30866",function(){numeroFolhasCortinaSTD()}),$(document).on("click",'[data-id-value="30935"], [data-id-value="30936"], [data-id-value="30937"], [data-id-value="31008"], [data-id-value="31009"], [data-id-value="31010"], [data-id-value="31011"], [data-id-value="31012"], [data-id-value="31013"], [data-id-value="31014"], [data-id-value="31015"], [data-id-value="31016"], [data-id-value="31017"], [data-id-value="31018"], [data-id-value="31019"], [data-id-value="31020"], [data-id-value="31021"], [data-id-value="31022"], [data-id-value="31023"], [data-id-value="31024"], [data-id-value="31025"], [data-id-value="31026"], [data-id-value="31027"], [data-id-value="31028"], [data-id-value="31029"], [data-id-value="31030"], [data-id-value="31031"], [data-id-value="31032"]',function(){0<$('[data-id-value="30935"].selected-accessory, [data-id-value="30936"].selected-accessory, [data-id-value="30937"].selected-accessory, [data-id-value="31008"].selected-accessory, [data-id-value="31009"].selected-accessory, [data-id-value="31010"].selected-accessory, [data-id-value="31011"].selected-accessory, [data-id-value="31012"].selected-accessory, [data-id-value="31013"].selected-accessory, [data-id-value="31014"].selected-accessory, [data-id-value="31015"].selected-accessory, [data-id-value="31016"].selected-accessory, [data-id-value="31017"].selected-accessory, [data-id-value="31018"].selected-accessory, [data-id-value="31019"].selected-accessory, [data-id-value="31020"].selected-accessory, [data-id-value="31021"].selected-accessory, [data-id-value="31022"].selected-accessory, [data-id-value="31023"].selected-accessory, [data-id-value="31024"].selected-accessory, [data-id-value="31025"].selected-accessory, [data-id-value="31026"].selected-accessory, [data-id-value="31027"].selected-accessory, [data-id-value="31028"].selected-accessory, [data-id-value="31029"].selected-accessory, [data-id-value="31030"].selected-accessory, [data-id-value="31031"].selected-accessory, [data-id-value="31032"].selected-accessory').length&&$("li[data-group='5587'].color-ndk.selected-value, li[data-group='5598'].color-ndk.selected-value, li[data-group='5599'].color-ndk.selected-value, li[data-group='5600'].color-ndk.selected-value").trigger("click")}),$(document).on("click",".orientation-btn",function(){$(this).parent().find(".orientation-btn").removeClass("active_orientation"),$(this).addClass("active_orientation"),group=$(this).parent().attr("data-group-target"),$("#visual_"+group+" .composition_element, #visual_"+group+" .colorize-cover-item").removeClassSVG("standard-orientation").removeClassSVG("reverse-orientation").addClassSVG($(this).attr("data-orientation"))}),$.fn.addClassSVG=function(a){return $(this).attr("class",function(e,t){return(void 0!==t?t+" ":"")+a}),this},$.fn.removeClassSVG=function(i){return $(this).attr("class",function(e,t){var a=new RegExp("\\b"+i+"\\b","g");return t.replace(a,"")}),this},$(document).on("focus","input.surface",function(){""!=$(this).attr("step")&&$(this).trigger("blur")}),$("textarea.noborder").on("keyup change",function(){$(this).css("height","auto").css("height",this.scrollHeight+(this.offsetHeight-this.clientHeight)),$(this).parent().css("height","auto").css("height",this.scrollHeight+(this.offsetHeight-this.clientHeight)+15)}),BrowserDetect=function(){var e=!0,t=!0,a={browsers:{chrome:r(/Chrome\/([0-9\.]*)/),firefox:r(/Firefox\/([0-9\.]*)/),safari:r(/Version\/([0-9\.]*).*Safari/),opera:r(/Opera\/.*Version\/([0-9\.]*)/,/Opera\/([0-9\.]*)/),msie:r(/MSIE ([0-9\.]*)/,/Trident.*rv:([0-9\.]*)/)},engines:{webkit:o("AppleWebKit"),trident:r(/(MSIE|Trident)/),gecko:o("Gecko"),presto:o("Presto")},platforms:{win:r(/Windows NT ([0-9\.]*)/),mac:r(/Mac OS X ([0-9_\.]*)/),linux:o("X11","Linux")}},i=navigator.userAgent,a={platform:n(a.platforms),browser:n(a.browsers),engine:n(a.engines)};function r(t,a){return function(){var e=t.exec(i)||a&&a.exec(i);return e&&e[1]}}function o(e){var t=Array.prototype.slice.apply(arguments);return function(){for(var e=0;e<t.length;e++)if(i.indexOf(t[e])<0)return;return!0}}function n(e){var t,a;for(t in e)if(e.hasOwnProperty(t)&&(a=e[t]()))return{name:t,value:a}}function d(e){var t=document.documentElement;t.className+=(t.className?" ":"")+e}function s(e){return"string"==typeof e?e.replace(/\./g,"_"):"unknown"}return a.platform&&(d(a.platform.name),e)&&d(a.platform.name+"-"+s(a.platform.value)),a.engine&&d(a.engine.name),a.browser&&(d(a.browser.name),d(a.browser.name+"-"+parseInt(a.browser.value,10)),t)&&d(a.browser.name+"-"+s(a.browser.value)),a}(),$(document).on("click",".accessory-ndk-no-quantity .accessory_img_block",function(){me=$(this).parent(),rootBlock=$(".form-group[data-field='"+me.attr("data-group")+"']"),input=me.find(".ndk-accessory-quantity:eq(0)"),max=parseInt(rootBlock.attr("data-qtty-max"));var e=$("#ndk-accessory-quantity-"+me.attr("data-id-value")).attr("data-price"),t=$("#price_"+me.attr("data-group")).val();0<max&&(rootBlock.find(".selected-accessory").removeClass("selected-accessory"),rootBlock.find(".ndk-accessory-quantity").val(0).trigger("change")),0==parseInt(input.val())?(me.addClass("selected-accessory"),input.val(1).trigger("change"),$("#price_"+me.attr("data-group")).val(parseInt(t)+parseInt(e))):(me.removeClass("selected-accessory"),input.val(0).trigger("change"),$("#price_"+me.attr("data-group")).val(parseInt(t)-parseInt(e)))}),$(document).on("click",'li[data-group="2001"], li[data-group="2017"], li[data-group="2014"], li[data-group="2018"], li[data-group="2280"], li[data-group="2281"], li[data-group="3103"], li[data-group="3106"], li[data-group="3108"], li[data-group="4778"], li[data-group="4777"], li[data-group="4877"], li[data-group="4878"]',function(){var e=$(this).data("group"),t=[],a=(t[2001]=["15002","15003","15004","15005"],t[2017]=["15094","15095","15096"],t[4877]=["28260","28261","28262","28263"],t[4878]=["28272","28273","28274"],t[2280]=["17805","17806","17807"],t[2281]=["17814","17815","17816","17817"],t[2014]=["15076","15077","15078","15079"],t[2018]=["15102","15103","15104"],t[3103]=["22114","22115","22116"],t[3106]=["22129"],t[3108]=["22143","22144","22145"],0);for(i=0;i<t[e].length;i++)$('li[data-id-value="'+t[e][i]+'"]').hasClass("selected-accessory")&&a++;0==a?$("div[data-field='2234']").length?(RemoveField("2234"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='4911']").length?RemoveField("4911"):$("div[data-field='4879']").length?RemoveField("4879"):$("div[data-field='4881']").length?RemoveField("4881"):$("div[data-field='2251']").length?(RemoveField("2251"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='2289']").length?(RemoveField("2289"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='4913']").length?(RemoveField("4913"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='3104']").length?(RemoveField("3104"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='3105']").length?(RemoveField("3105"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='3109']").length&&(RemoveField("3109"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='2234']").length?ShowField("2234"):$("div[data-field='4911']").length?ShowField("4911"):$("div[data-field='4879']").length?ShowField("4879"):$("div[data-field='4881']").length?ShowField("4881"):$("div[data-field='2251']").length?ShowField("2251"):$("div[data-field='2289']").length?ShowField("2289"):$("div[data-field='4913']").length?ShowField("4913"):$("div[data-field='3104']").length?ShowField("3104"):$("div[data-field='3105']").length?ShowField("3105"):$("div[data-field='3109']").length&&ShowField("3109")}),$(document).on("click",'li[data-group="2001"], li[data-group="2017"], li[data-group="2014"], li[data-group="2018"], li[data-group="2280"], li[data-group="2281"], li[data-group="3103"], li[data-group="3106"], li[data-group="3108"], li[data-group="4778"], li[data-group="4777"], li[data-group="4877"], li[data-group="4878"]',function(){var e=$(this).data("group"),t=[],a=(t[2001]=["31022","31023","31024","31025"],t[2017]=["31019","31020","31021"],t[4877]=["31008","31009","31010","31011"],t[4878]=["30935","30936","30937"],t[2280]=["31026","31027","31028"],t[2281]=["31029","31030","31031","31032"],t[2014]=["31015","31016","31017","31018"],t[2018]=["31012","31013","31014"],0);for(i=0;i<t[e].length;i++)$('li[data-id-value="'+t[e][i]+'"]').hasClass("selected-accessory")&&a++;0==a?$("div[data-field='5599']").length?(RemoveField("5599"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='5587']").length?(RemoveField("5587"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='5598']").length?(RemoveField("5598"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='5600']").length?(RemoveField("5600"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='3104']").length?(RemoveField("3104"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='3105']").length?(RemoveField("3105"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='3109']").length&&(RemoveField("3109"),$("#ndkcsfield_3065").html(""),$("#text_3065").attr("value","")):$("div[data-field='5599']").length?ShowField("5599"):$("div[data-field='5587']").length?ShowField("5587"):$("div[data-field='5598']").length?ShowField("5598"):$("div[data-field='5600']").length?ShowField("5600"):$("div[data-field='3104']").length?ShowField("3104"):$("div[data-field='3105']").length?ShowField("3105"):$("div[data-field='3109']").length&&ShowField("3109")}),$(document).on("click",'li[data-group="2234"], li[data-group="4911"], li[data-group="2251"], li[data-group="2289"], li[data-group="4913"], li[data-group="3104"], li[data-group="3105"], li[data-group="3109"], li[data-group="4779"], li[data-group="4879"], li[data-group="4881"], li[data-group="5587"], li[data-group="5598"], li[data-group="5599"], li[data-group="5600"]',function(){var e,t=$(this).data("title"),a=(corStore=t.match(/7016/)?"7016":t.match(/3030/)?"3030":t.match(/0202/)?"0202":"9016",["15002","15003","15004","15005","15094","15095","15096","15076","15077","15078","15079","15102","15103","15104","17805","17806","17807","17814","17815","17816","17817","27640","27641","27642","27628","27629","27630","27631","28260","28261","28262","28263","28272","28273","28274","22114","22115","22116","22129","22143","22144","22145","30935","30936","30937","31008","31009","31010","31011","31012","31013","31014","31015","31016","31017","31018","31019","31020","31021","31022","31023","31024","31025","31026","31027","31028","31029","31030","31031","31032"]);if($.each($('li[data-group="2401"].selected-color, li[data-group="2409"].selected-color, li[data-group="2425"].selected-color, li[data-group="2011"].selected-color, li[data-group="2019"].selected-color, li[data-group="2007"].selected-color, li[data-group="2302"].selected-color, li[data-group="2278"].selected-color, li[data-group="2279"].selected-color, li[data-group="4769"].selected-color, li[data-group="4770"].selected-color, li[data-group="4864"].selected-color, li[data-group="4865"].selected-color, li[data-group="5151"].selected-color, li[data-group="5166"].selected-color'),function(){campoCorEstrutura=$(this).data("title")}),legendaCorEstrutura=campoCorEstrutura.match(/7016/)?"Grau RAL "+(corEstrutura="7016"):campoCorEstrutura.match(/9016/)?"Weiß RAL "+(corEstrutura="9016"):campoCorEstrutura.match(/9005/)?"Schwarz RAL "+(corEstrutura="9005"):campoCorEstrutura.match(/8019/)?"Grau RAL "+(corEstrutura="8019"):campoCorEstrutura.match(/8014/)?"Braun RAL "+(corEstrutura="8014"):campoCorEstrutura.match(/7035/)?"Grau RAL "+(corEstrutura="7035"):campoCorEstrutura.match(/6005/)?"Grün RAL "+(corEstrutura="6005"):campoCorEstrutura.match(/5015/)?"Blau RAL "+(corEstrutura="5015"):campoCorEstrutura.match(/5013/)?"Blau RAL "+(corEstrutura="5013"):campoCorEstrutura.match(/3005/)?"Rot RAL "+(corEstrutura="3005"):"Elfenbein RAL "+(corEstrutura="1015"),"2234"==$(this).data("group")||"4911"==$(this).data("group")||"4779"==$(this).data("group")||"2289"==$(this).data("group")||"4913"==$(this).data("group")||"5599"==$(this).data("group")||"5600"==$(this).data("group"))if(corStore!=corEstrutura)for($("div").remove(".aluclass_fechos_tecidos"),i=0;i<a.length;i++)$("img.aluclass_"+a[i]).length&&(e=a[i]+"-"+corStore+"-tecido",console.log("novaImagem "+e),trocaCorStore(a[i],e));else $("div").remove(".aluclass_fechos_tecidos");else if("7016"!=corStore&&"3030"!=corStore)for($("div").remove(".aluclass_fechos_tecidos"),i=0;i<a.length;i++)$("img.aluclass_"+a[i]).length&&(e=a[i]+"-"+corStore+"-tecido",console.log("novaImagem "+e),trocaCorStore(a[i],e));else $("div").remove(".aluclass_fechos_tecidos");var r=0;for(console.log(a.length),i=0;i<a.length;i++)$('li[data-id-value="'+a[i]+'"]').hasClass("selected-accessory")&&r++;console.log(r),0<r&&(console.log("atribui a cor da estrutura "+legendaCorEstrutura),$("#ndkcsfield_3065").html(legendaCorEstrutura),$("#text_3065").attr("value",legendaCorEstrutura))}),$(document).on("click","input.ndk-radio",function(){var e=$(this).data("group"),t=$(this).data("id-value");"2264"!=e&&"2262"!=e||("17675"==t||"17673"==t?$("div.aluclass_"+t).length||$("#image-block").append("<div class='absolute-visu view-0 absolute-img aluclass_fechos aluclass_lamina_pergola aluclass_"+t+"' style='z-index: 1;'><img class='composition_element img-reponsive aluclass_"+t+"' src='/img/laminas_pergola/lamina-gris-promo.png'/></div>"):$("div").remove(".aluclass_lamina_pergola"))}),$(document).on("click",'li[data-group="2522"]',function(){var e=$(this).data("title");"9016"==(e=e.match(/7016/)?"7016":"9016")?(e="store-vertical-frente-9016-tecido",console.log("novaImagem "+e),$("#image-block").append("<div class='absolute-visu view-0 absolute-img aluclass_fechos_tecidos' style='z-index: 2;'><img class='composition_element img-reponsive' src='/img/fechos_pergola/"+e+".png'/></div>")):$("div").remove(".aluclass_fechos_tecidos")});